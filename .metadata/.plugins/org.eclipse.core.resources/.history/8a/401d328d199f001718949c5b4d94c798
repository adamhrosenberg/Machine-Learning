#include <iostream>
#include <fstream>
#include <string>
#include <vector>
#include <algorithm>
#include <sstream>

using namespace std;

struct point{
	double x, y;
};

vector<point> fill(string line){
	//we have a line. now split line by spaces to have a new vector.

	string buf;
	stringstream ss(line);
	vector<string> tokens;
	vector<point> row; //to return.
	vector<point> temp;
	while(ss >> buf){
		tokens.push_back(buf);
	}

	//replace each colon with a space to seperate again.
	for(int i = 0; i < tokens.size(); i++){
		replace(tokens.at(i).begin(), tokens.at(i).end(), ':', ' ');

		string colBuf;
		stringstream ss2(tokens.at(i));
		vector<string> line;

		while(ss2 >> colBuf){
			line.push_back(colBuf);
		}

		for(int k = 0; k < line.size(); k++){
			double x = atoi(line.at(k).c_str());
			double y = 0.18257;
			if(x != 0){
				point p;
				p.x = x;
				p.y = y;
				temp.push_back(p);
			}

		}
	}


	for(int i = 0; i < temp.size(); i++){
		cout << temp.at(i).x << " , " << temp.at(i).y << endl;
	}


	for(int i = 0; i < 69; i++){

	}
}

int main(){

	string path = "Dataset/phishing.test";
	ifstream pipein(path.c_str());

	vector<vector<point> > matrix;
	vector<int> labels;

	for(string line; getline(pipein, line);){
//		if(line.substr(0,2) == "+1"){
//			labels.push_back(1);
//		}else{
//			labels.push_back(-1);
//		}

		fill(line.substr(2));
		//vector<point> row = fill(line.substr(2));
		//matrix.push_back(row);
	}

	for(int i = 0; i < matrix.size(); i++){
//		cout<<matrix.at(i) << endl;
	}


	return 0;
}
